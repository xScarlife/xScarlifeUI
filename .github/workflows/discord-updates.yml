name: Import Updates

on:
  push:
    branches:
      - main
    paths:
      - "xScarlifeUI - Retail/**"
      - "xScarlifeUI - Classic Era/**"

jobs:
  notify:
    runs-on: ubuntu-22.04
    steps:
      - name: Notify Discord
        if: success()
        uses: repooc/djs-actions@my_changes
        with:
          id: ${{ secrets.DISCORD_WEBHOOK_ID }}
          token: ${{ secrets.DISCORD_WEBHOOK_TOKEN }}
          title: 'ðŸ”” **xScarlifeUI import update**'
          description: |
            A new import update has been pushed to **${{ github.event.repository.name }}**.

            **Commit:** ${{ github.event.head_commit.message }}
            **Commit link:** ${{ github.server_url }}/${{ github.repository }}/commit/${{ github.sha }}

            ðŸ‘‰ **Grab the latest import string here:**
            https://xscarlife-gaming.com/xscarlifeui-import-strings/
          fields: |
            [
              {"name":"Repo","value":"${{ github.repository }}","inline":true},
              {"name":"Branch","value":"${{ github.ref_name }}","inline":true},
              {"name":"Pushed by","value":"${{ github.actor }}","inline":true}
            ]
          footer: xScarlife Gaming
          timestamp: true
